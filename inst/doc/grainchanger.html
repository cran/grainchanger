<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Laura J. Graham" />

<meta name="date" content="2021-02-01" />

<title>Using Grainchanger</title>

<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Using Grainchanger</h1>
<h4 class="author">Laura J. Graham</h4>
<h4 class="date">2021-02-01</h4>



<div id="package-overview" class="section level1">
<h1>Package overview</h1>
<p>The primary functions of the <code>grainchanger</code> package are those which facilitate moving-window (<code>winmove_agg</code>) and direct (<code>nomove_agg</code>) data aggregation. These functions aggregate fine-grain data (<code>fine_dat</code>) to a coarse-grain (<code>coarse_dat</code>) using a function specified by the user (<code>agg_fun</code>). The moving-window method takes in an additional function (<code>win_fun</code>) which smooths the fine-grain data prior to aggregation.</p>
<p>The moving-window smoothing function is also available in the package (<code>winmove</code>), as well as several built-in functions, and an additional utility function for use with simulated landscapes (<code>create_torus</code>).</p>
<p>The <code>winmove</code> function acts as a convenient wrapper to <code>raster::focalWeight</code> and <code>raster::focal</code> which takes advantage of optimised functions built into the <code>grainchanger</code> package.</p>
</div>
<div id="data-aggregation-sf" class="section level1">
<h1>Data aggregation &amp; <code>sf</code></h1>
<p>The functions in <code>grainchanger</code> have been written to be compatible with the <a href="https://r-spatial.github.io/sf/"><code>sf</code></a> package. The online textbook <a href="https://geocompr.robinlovelace.net/">Geocomputation with R</a> provides an introduction to spatial data analysis with the <code>sf</code> package.</p>
<div id="moving-window-data-aggregation" class="section level2">
<h2>Moving-window data aggregation</h2>
<p>In this example, we show how to create a coarse grain grid over the fine-grain data using <code>st_make_grid</code> from the <code>sf</code> package. We then aggregate the package data <code>cat_ls</code> to this grid using moving-window data aggregation and plot using <code>ggplot2</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(grainchanger)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(sf)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a>coarse_dat &lt;-<span class="st"> </span>cat_ls <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="st">  </span><span class="co"># get the bounding box</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="st">  </span><span class="kw">st_bbox</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="st">  </span><span class="co"># turn into an sfc object</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="st">  </span><span class="kw">st_as_sfc</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="st">  </span><span class="co"># negative buffer </span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="st">  </span><span class="kw">st_buffer</span>(<span class="op">-</span><span class="dv">4</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="st">  </span><span class="co"># make a square grid</span></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="st">  </span><span class="kw">st_make_grid</span>(<span class="dt">cellsize =</span> <span class="dv">19</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="st">  </span><span class="co"># turn into sf object</span></span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="st">  </span><span class="kw">st_sf</span>()</span>
<span id="cb1-16"><a href="#cb1-16"></a></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="co"># we can plot this grid on top of the fine data</span></span>
<span id="cb1-18"><a href="#cb1-18"></a>landscapetools<span class="op">::</span><span class="kw">show_landscape</span>(cat_ls) <span class="op">+</span><span class="st"> </span></span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> coarse_dat, <span class="dt">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a></span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a>coarse_dat<span class="op">$</span>shdi_<span class="dv">3</span> &lt;-<span class="st"> </span><span class="kw">winmove_agg</span>(<span class="dt">coarse_dat =</span> coarse_dat, </span>
<span id="cb2-4"><a href="#cb2-4"></a>                                 <span class="dt">fine_dat =</span> cat_ls,</span>
<span id="cb2-5"><a href="#cb2-5"></a>                                 <span class="dt">d =</span> <span class="dv">3</span>,</span>
<span id="cb2-6"><a href="#cb2-6"></a>                                 <span class="dt">type =</span> <span class="st">&quot;rectangle&quot;</span>, </span>
<span id="cb2-7"><a href="#cb2-7"></a>                                 <span class="dt">win_fun =</span> shdi, </span>
<span id="cb2-8"><a href="#cb2-8"></a>                                 <span class="dt">agg_fun =</span> mean,</span>
<span id="cb2-9"><a href="#cb2-9"></a>                                 <span class="dt">is_grid =</span> <span class="ot">FALSE</span>,</span>
<span id="cb2-10"><a href="#cb2-10"></a>                                 <span class="dt">lc_class =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>)</span>
<span id="cb2-11"><a href="#cb2-11"></a></span>
<span id="cb2-12"><a href="#cb2-12"></a><span class="kw">ggplot</span>(coarse_dat, <span class="kw">aes</span>(<span class="dt">fill =</span> shdi_<span class="dv">3</span>)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb2-13"><a href="#cb2-13"></a><span class="st">  </span><span class="kw">geom_sf</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb2-14"><a href="#cb2-14"></a><span class="st">  </span><span class="kw">theme_bw</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Note that when creating the grid, we made it 4 units smaller (the size of the moving window) than the fine-resolution data. The reason for this is that we avoid edge effects created when the moving window goes beyond the extent of the data. A warning is thrown if <code>fine_dat</code> is the same size as (or smaller than) <code>coarse_dat</code>. The below is an example of this, using <code>g_sf</code> from the package.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>g_sf<span class="op">$</span>shei_<span class="dv">4</span> &lt;-<span class="st"> </span><span class="kw">winmove_agg</span>(<span class="dt">coarse_dat =</span> g_sf, </span>
<span id="cb3-2"><a href="#cb3-2"></a>                                 <span class="dt">fine_dat =</span> cat_ls,</span>
<span id="cb3-3"><a href="#cb3-3"></a>                                 <span class="dt">d =</span> <span class="dv">4</span>,</span>
<span id="cb3-4"><a href="#cb3-4"></a>                                 <span class="dt">type =</span> <span class="st">&quot;rectangle&quot;</span>, </span>
<span id="cb3-5"><a href="#cb3-5"></a>                                 <span class="dt">win_fun =</span> shei, </span>
<span id="cb3-6"><a href="#cb3-6"></a>                                 <span class="dt">agg_fun =</span> mean,</span>
<span id="cb3-7"><a href="#cb3-7"></a>                                 <span class="dt">is_grid =</span> <span class="ot">FALSE</span>,</span>
<span id="cb3-8"><a href="#cb3-8"></a>                                 <span class="dt">lc_class =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>)</span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co">#&gt; Warning: Moving window extends beyond extent of `fine_dat`</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co">#&gt; You will get edge effects for the following cells of `coarse_dat`:</span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="co">#&gt; 1,2,3,4,5,6,7,8,9</span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co">#&gt; Warning in min(x@data@values, na.rm = TRUE): no non-missing arguments to min;</span></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="co">#&gt; returning Inf</span></span>
<span id="cb3-14"><a href="#cb3-14"></a><span class="co">#&gt; Warning in max(x@data@values, na.rm = TRUE): no non-missing arguments to max;</span></span>
<span id="cb3-15"><a href="#cb3-15"></a><span class="co">#&gt; returning -Inf</span></span></code></pre></div>
</div>
<div id="direct-data-aggregation" class="section level2">
<h2>Direct data aggregation</h2>
<p>In this example we show how to read in a shapefile as an <code>sf</code> object, apply direct data aggregation, and plot using <code>ggplot2</code>. <code>cont_ls</code> is a fine-resolution RasterLayer provided with the package.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">library</span>(sf)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb4-3"><a href="#cb4-3"></a></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co"># coarse_dat &lt;- st_read(&quot;your_file.shp&quot;)</span></span>
<span id="cb4-5"><a href="#cb4-5"></a>coarse_dat &lt;-<span class="st"> </span><span class="kw">st_read</span>(<span class="kw">system.file</span>(<span class="st">&quot;shape/poly_sf.shp&quot;</span>, <span class="dt">package=</span><span class="st">&quot;grainchanger&quot;</span>))</span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">#&gt; Reading layer `poly_sf&#39; from data source `C:\Users\grahamlz\AppData\Local\Temp\Rtmpi8eo9U\Rinst63402ed3560\grainchanger\shape\poly_sf.shp&#39; using driver `ESRI Shapefile&#39;</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">#&gt; Simple feature collection with 39 features and 1 field</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">#&gt; geometry type:  POLYGON</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co">#&gt; dimension:      XY</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co">#&gt; bbox:           xmin: -6.5 ymin: -7.505553 xmax: 71.5 ymax: 75.05553</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="co">#&gt; CRS:            NA</span></span>
<span id="cb4-12"><a href="#cb4-12"></a></span>
<span id="cb4-13"><a href="#cb4-13"></a>coarse_dat<span class="op">$</span>var_range &lt;-<span class="st"> </span><span class="kw">nomove_agg</span>(<span class="dt">coarse_dat =</span> coarse_dat,</span>
<span id="cb4-14"><a href="#cb4-14"></a>                                   <span class="dt">fine_dat =</span> cont_ls,</span>
<span id="cb4-15"><a href="#cb4-15"></a>                                   <span class="dt">agg_fun =</span> var_range,</span>
<span id="cb4-16"><a href="#cb4-16"></a>                                   <span class="dt">is_grid =</span> <span class="ot">FALSE</span>)</span>
<span id="cb4-17"><a href="#cb4-17"></a></span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="kw">ggplot</span>(coarse_dat, <span class="kw">aes</span>(<span class="dt">fill =</span> var_range)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb4-19"><a href="#cb4-19"></a><span class="st">  </span><span class="kw">geom_sf</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb4-20"><a href="#cb4-20"></a><span class="st">  </span><span class="kw">theme_bw</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
</div>
<div id="functions" class="section level1">
<h1>Functions</h1>
<p>There are a number of inbuilt functions in the grainchanger package, with their usage outlined below. While it is possible to use user-defined functions within both <code>winmove_agg</code> and <code>nomove_agg</code>, we welcome suggestions for additional functions. Please <a href="https://github.com/ropensci/grainchanger/issues">add as an issue</a> - doing it this way means we can maximise the speed of the function.</p>
<table>
<thead>
<tr class="header">
<th align="left">Function.Name</th>
<th align="left">Description</th>
<th align="left">Additional.arguments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">prop</td>
<td align="left">Calculate the proportion of a given class</td>
<td align="left">lc_class (numeric)</td>
</tr>
<tr class="even">
<td align="left">shdi</td>
<td align="left">Calculate the Shannon diversity</td>
<td align="left">lc_class (numeric)</td>
</tr>
<tr class="odd">
<td align="left">shei</td>
<td align="left">Calculate the Shannon evenness</td>
<td align="left">lc_class (numeric)</td>
</tr>
<tr class="even">
<td align="left">range</td>
<td align="left">Calculate the range of values</td>
<td align="left"></td>
</tr>
</tbody>
</table>
</div>
<div id="additional-utilities" class="section level1">
<h1>Additional utilities</h1>
<div id="create-torus" class="section level2">
<h2>Create torus</h2>
<p>The <code>create_torus</code> function takes as input a square or rectangular landscape and pads it by a specified radius, creating the effect of a torus. We developed this function in order to avoid edge effects when testing methods on simulated landscapes (such as those from <a href="https://ropensci.github.io/NLMR/">NLMR</a>).</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>torus &lt;-<span class="st"> </span><span class="kw">create_torus</span>(cat_ls, <span class="dv">5</span>)</span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a>landscapetools<span class="op">::</span><span class="kw">show_landscape</span>(torus)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="running-aggregation-in-parallel" class="section level2">
<h2>Running aggregation in parallel</h2>
<p>The <code>winmove_agg</code> and <code>nomove_agg</code> functions have been designed to work with the <a href="https://github.com/HenrikBengtsson/future"><code>future</code></a> package. This means that with just one additional line of code, the functions can be run in parallel while taking advantage of the resources available to the user.</p>
<pre><code>library(future)
plan(multisession)</code></pre>
<p>See the <a href="https://github.com/HenrikBengtsson/future"><code>future</code></a> documentation for more information.</p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
